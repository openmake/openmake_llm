# OpenMake LLM v1.5.5 â€” ì¢…í•© ì½”ë“œë¦¬ë·° ë¦¬í¬íŠ¸

> **ì‘ì„±ì¼**: 2026-02-16  
> **ëŒ€ìƒ**: `openmake_llm` (v1.5.5) + `openmake/www` (Next.js í™ˆí˜ì´ì§€)  
> **ë²”ìœ„**: ë°±ì—”ë“œ (Express/TypeScript), í”„ë¡ íŠ¸ì—”ë“œ (Vanilla JS SPA), ì¸ì¦/ë³´ì•ˆ, MCP í†µí•©, ë°ì´í„° ë ˆì´ì–´, www êµì°¨ ê²€í†   
> **ë¶„ì„ ë°©ë²•**: 7ê°œ ë³‘ë ¬ íƒìƒ‰ ì—ì´ì „íŠ¸ + ì§ì ‘ ì½”ë“œ ë¦¬ë”©

---

## ëª©ì°¨

1. [í”„ë¡œì íŠ¸ í˜„í™© ìš”ì•½](#1-í”„ë¡œì íŠ¸-í˜„í™©-ìš”ì•½)
2. [ë°±ì—”ë“œ ì½”ë“œë¦¬ë·°](#2-ë°±ì—”ë“œ-ì½”ë“œë¦¬ë·°)
3. [í”„ë¡ íŠ¸ì—”ë“œ ì½”ë“œë¦¬ë·°](#3-í”„ë¡ íŠ¸ì—”ë“œ-ì½”ë“œë¦¬ë·°)
4. [ì¸ì¦ ë° ë³´ì•ˆ ê°ì‚¬](#4-ì¸ì¦-ë°-ë³´ì•ˆ-ê°ì‚¬)
5. [MCP í†µí•© ë° ì„œë¹„ìŠ¤ ë ˆì´ì–´](#5-mcp-í†µí•©-ë°-ì„œë¹„ìŠ¤-ë ˆì´ì–´)
6. [ë°ì´í„° ë ˆì´ì–´ ë¦¬ë·°](#6-ë°ì´í„°-ë ˆì´ì–´-ë¦¬ë·°)
7. [openmake/www êµì°¨ ê²€í† ](#7-openmakewww-êµì°¨-ê²€í† )
8. [ëˆ„ë½ ì£¼ì„ ë° ë³´ì™„ ëª©ë¡](#8-ëˆ„ë½-ì£¼ì„-ë°-ë³´ì™„-ëª©ë¡)
9. [ì¢…í•© ê¶Œê³ ì‚¬í•­](#9-ì¢…í•©-ê¶Œê³ ì‚¬í•­)

---

## 1. í”„ë¡œì íŠ¸ í˜„í™© ìš”ì•½

| í•­ëª© | ìƒíƒœ |
|------|------|
| **ë²„ì „** | v1.5.5 (2026-02-16) |
| **ì½”ë“œ ê·œëª¨** | ~57,000+ LOC (TypeScript + JavaScript + CSS) |
| **ë°±ì—”ë“œ** | Express v5.2 + TypeScript 5.3, 29ê°œ ì†ŒìŠ¤ ë””ë ‰í† ë¦¬ |
| **í”„ë¡ íŠ¸ì—”ë“œ** | Vanilla JS SPA, 22ê°œ í˜ì´ì§€ ëª¨ë“ˆ, ì»¤ìŠ¤í…€ History API ë¼ìš°í„° |
| **ë°ì´í„°ë² ì´ìŠ¤** | PostgreSQL (pg ë“œë¼ì´ë²„, raw SQL, Repository íŒ¨í„´) |
| **ì¸ì¦** | JWT + HttpOnly Cookie + OAuth 2.0 (Google/GitHub) + API Key (HMAC-SHA-256) |
| **LLM** | Ollama (ë¡œì»¬/í´ë¼ìš°ë“œ) + 7 Brand Model Profiles |
| **í…ŒìŠ¤íŠ¸** | Jest (ë‹¨ìœ„) + Playwright (E2E), 575+ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ |

### ì•„í‚¤í…ì²˜ ì„±ìˆ™ë„ í‰ê°€

| ì˜ì—­ | ì„±ìˆ™ë„ | ê·¼ê±° |
|------|--------|------|
| ì„œë²„ êµ¬ì¡° | â˜…â˜…â˜…â˜…â˜† | `server.ts` 5ê°œ private ë©”ì„œë“œë¡œ ë¶„ë¦¬, ëª…í™•í•œ ë¯¸ë“¤ì›¨ì–´ ì²´ì¸ |
| ì„œë¹„ìŠ¤ ë ˆì´ì–´ | â˜…â˜…â˜…â˜…â˜… | Strategy íŒ¨í„´(5ê°œ ì „ëµ), thin orchestrator |
| ë°ì´í„° ë ˆì´ì–´ | â˜…â˜…â˜…â˜…â˜† | Repository íŒ¨í„´(8ê°œ), íŒŒë¼ë¯¸í„°í™” ì¿¼ë¦¬ |
| ì¸ì¦/ë³´ì•ˆ | â˜…â˜…â˜…â˜…â˜† | JWT+Refresh, í† í° ë¸”ë™ë¦¬ìŠ¤íŠ¸(PostgreSQL), HMAC API Key |
| í”„ë¡ íŠ¸ì—”ë“œ | â˜…â˜…â˜…â˜†â˜† | ì „í™˜ê¸° â€” app.js ëª¨ë†€ë¦¬ìŠ¤ + ëª¨ë“ˆ ë³‘ì¡´ |
| MCP í†µí•© | â˜…â˜…â˜…â˜…â˜… | ToolRouter, ToolTiers, UserSandbox, ì™¸ë¶€ MCP ì„œë²„ ì§€ì› |
| ë¬¸ì„œí™” | â˜…â˜…â˜…â˜…â˜† | JSDoc ëŒ€ë¶€ë¶„ ì ìš©, AGENTS.md ê°€ì´ë“œ ì¡´ì¬ |

---

## 2. ë°±ì—”ë“œ ì½”ë“œë¦¬ë·°

### 2.1 ê¸ì •ì  ë°œê²¬ì‚¬í•­ (Strengths)

1. **ChatService Strategy íŒ¨í„´**: God object(~1200 LOC)ë¥¼ 5ê°œ ì „ëµ í´ë˜ìŠ¤ë¡œ ë¶„ë¦¬ â€” `DirectStrategy`, `A2AStrategy`, `AgentLoopStrategy`, `DiscussionStrategy`, `DeepResearchStrategy`. ìš°ìˆ˜í•œ OCP(Open-Closed Principle) ì ìš©.

2. **ì—ëŸ¬ ì²˜ë¦¬ ê³„ì¸µ êµ¬ì¡°**: `AppError` â†’ `ValidationError(400)`, `AuthenticationError(401)`, `AuthorizationError(403)`, `NotFoundError(404)`, `RateLimitError(429)`, `DatabaseError(500)` + `QuotaExceededError`, `KeyExhaustionError`, `CircuitOpenError`, `AllNodesFailedError`. ì²´ê³„ì ì¸ ì—ëŸ¬ ë¶„ë¥˜.

3. **CircuitBreaker 3-ìƒíƒœ ë¨¸ì‹ **: CLOSED â†’ OPEN â†’ HALF_OPEN ì „í™˜, ìŠ¬ë¼ì´ë”© ìœˆë„ìš°, `setTimeout.unref()`ë¡œ graceful shutdown. í”„ë¡œë•ì…˜ ìˆ˜ì¤€ì˜ ë³µì›ë ¥ íŒ¨í„´.

4. **í™˜ê²½ ê²€ì¦**: Zod ìŠ¤í‚¤ë§ˆ ê¸°ë°˜ ~50ê°œ í™˜ê²½ë³€ìˆ˜ ìœ íš¨ì„± ê²€ì‚¬ (`env.schema.ts`). í”„ë¡œë•ì…˜ ì „ìš© ì œì•½ í¬í•¨.

5. **ChatRequestHandler DRY ì¶”ìƒí™”**: HTTP Sync, HTTP Stream, WebSocket 3ê³³ì˜ ì‚¼ì¤‘ ë³µì œ ë¡œì§ì„ ë‹¨ì¼ í´ë˜ìŠ¤ë¡œ í†µí•©.

### 2.2 ê°œì„  í•„ìš”ì‚¬í•­ (Issues)

#### ğŸ”´ Critical

| # | íŒŒì¼ | ì´ìŠˆ | ì„¤ëª… |
|---|------|------|------|
| B-1 | `services/ChatService.ts` | **console.log ì‚¬ìš©** | 11ê³³ì—ì„œ `console.log` ì§ì ‘ ì‚¬ìš©. í”„ë¡œì íŠ¸ í‘œì¤€ `createLogger()` ëŒ€ì‹  ì‚¬ìš©í•˜ì—¬ í”„ë¡œë•ì…˜ ë¡œê·¸ ëª¨ë‹ˆí„°ë§ ë¶ˆê°€. |
| B-2 | `middlewares/chat-rate-limiter.ts` | **ì¸ë©”ëª¨ë¦¬ Rate Limiting** | JS `Map` ê¸°ë°˜. í´ëŸ¬ìŠ¤í„° ëª¨ë“œ(ë‹¤ì¤‘ í”„ë¡œì„¸ìŠ¤)ì—ì„œ ë™ì‘ ë¶ˆê°€, ë©”ëª¨ë¦¬ ëˆ„ìˆ˜/DoS ë²¡í„°. |

#### ğŸŸ  Medium

| # | íŒŒì¼ | ì´ìŠˆ | ì„¤ëª… |
|---|------|------|------|
| B-3 | `controllers/auth.controller.ts` | **ì»¨íŠ¸ë¡¤ëŸ¬ ë ˆì´ì–´ DDL ëˆ„ì¶œ** | `ensureOauthStateTable()` â€” `CREATE TABLE IF NOT EXISTS oauth_states` SQLì´ ì»¨íŠ¸ë¡¤ëŸ¬ ë‚´ë¶€ì— ì¡´ì¬. DB ìŠ¤í‚¤ë§ˆ ê´€ë¦¬ ë¡œì§ì´ ë¹„ì¦ˆë‹ˆìŠ¤ ë ˆì´ì–´ì— ìˆìŒ. |
| B-4 | `data/models/unified-database.ts:46-120` | **í•˜ë“œì½”ë”© ìŠ¤í‚¤ë§ˆ í´ë°±** | `LEGACY_SCHEMA` ìƒìˆ˜(~75ì¤„ ì¸ë¼ì¸ SQL). SQL íŒŒì¼ê³¼ ì´ì¤‘ ê´€ë¦¬ë¡œ ë¶ˆì¼ì¹˜ ìœ„í—˜. |
| B-5 | `routes/chat.routes.ts` | **ì¤‘ë³µ ì¸ì¦ ê²€ì‚¬** | `optionalAuth` ë¯¸ë“¤ì›¨ì–´ ì´í›„ í•¸ë“¤ëŸ¬ì—ì„œ ë‹¤ì‹œ `ChatRequestHandler.resolveUserContextFromRequest(req)` í˜¸ì¶œí•˜ì—¬ null ì²´í¬. ë¯¸ë“¤ì›¨ì–´ ì‹ ë¢° ì›ì¹™ ìœ„ë°˜. |
| B-6 | ì „ì²´ backend | **ì—ëŸ¬ í•¸ë“¤ë§ íŒ¨í„´ ë¶ˆì¼ì¹˜** | `chat.routes.ts`ëŠ” `asyncHandler`, `auth.controller.ts`ëŠ” ìˆ˜ë™ `try/catch`. í‘œì¤€í™” í•„ìš”. |

#### ğŸŸ¡ Low

| # | íŒŒì¼ | ì´ìŠˆ | ì„¤ëª… |
|---|------|------|------|
| B-7 | `data/models/unified-database.ts` | **ê³¼ëŒ€ í´ë˜ìŠ¤** | 1100+ LOC ì‹±ê¸€í†¤. Connection Pool + Schema Manager + Repository Proxy ì±…ì„ í˜¼ì¬. v1.5.3ì—ì„œ Repository ë¶„ë¦¬í–ˆìœ¼ë‚˜ Facade ë©”ì„œë“œê°€ ì—¬ì „íˆ ê±°ëŒ€. |
| B-8 | `auth/index.ts:47-62` | **JWT_SECRET ë¶€ì¬ ì‹œ ë™ì‘ ëª¨í˜¸** | í…ŒìŠ¤íŠ¸=ê²½ê³ , í”„ë¡œë•ì…˜=exit, ê°œë°œ=throw. ì¼ê´€ë˜ì§€ ì•Šì€ ì‹¤íŒ¨ ì „ëµ. |

---

## 3. í”„ë¡ íŠ¸ì—”ë“œ ì½”ë“œë¦¬ë·°

### 3.1 ê¸ì •ì  ë°œê²¬ì‚¬í•­

1. **SPA Router**: `spa-router.js` â€” History API ê¸°ë°˜ ì»¤ìŠ¤í…€ ë¼ìš°í„°. CSS ë¡œë”©/ì–¸ë¡œë”©, `cleanup()` ìƒëª…ì£¼ê¸°, ë¬´í•œ ë¦¬ë¡œë“œ ë°©ì§€, ìºì‹œ ë²„ìŠ¤í„° ì§€ì›. í”„ë ˆì„ì›Œí¬ ì—†ì´ ìš°ìˆ˜í•œ êµ¬í˜„.

2. **ìƒíƒœ ê´€ë¦¬**: `state.js` â€” Pub/Sub íŒ¨í„´ì˜ ì¤‘ì•™ ì§‘ì¤‘ì‹ `AppState`. `getState(path)` / `setState(path, value)` / `subscribe(path, callback)` ì¸í„°í˜ì´ìŠ¤. Single Source of Truth ì›ì¹™ ì¤€ìˆ˜.

3. **XSS ë°©ì–´**: `sanitize.js` â€” DOMPurify ê°€ìš© ì‹œ ìœ„ì„, ë¶ˆê°€ ì‹œ ìì²´ í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ê¸°ë°˜ ì •ì œ. `escapeHTML()` + `sanitizeHTML()` ì´ì¤‘ ë°©ì–´.

4. **Neo Brutalism ë””ìì¸ ì‹œìŠ¤í…œ**: `design-tokens.css`ì— ì²´ê³„ì  CSS ë³€ìˆ˜ ì •ì˜. ë‹¤í¬/ë¼ì´íŠ¸ í…Œë§ˆ ì§€ì›, glassmorphism íš¨ê³¼.

### 3.2 ê°œì„  í•„ìš”ì‚¬í•­

#### ğŸ”´ Critical

| # | íŒŒì¼ | ì´ìŠˆ | ì„¤ëª… |
|---|------|------|------|
| F-1 | `app.js` vs `js/modules/` | **ëª¨ë†€ë¦¬ìŠ¤-ëª¨ë“ˆ ì´ì¤‘ ì •ì˜** | `sendMessage()` â€” app.js(L1211) **AND** chat.js(L89). `addChatMessage()` â€” app.js(L1262) **AND** chat.js(L178). `authFetch()` â€” app.js(L264) **AND** auth.js(L148). ì–´ëŠ ë²„ì „ì´ ì‹¤í–‰ë˜ëŠ”ì§€ ë¶ˆëª…í™•. |
| F-2 | ë‹¤ìˆ˜ í˜ì´ì§€ ëª¨ë“ˆ | **innerHTML XSS ìœ„í—˜** | `innerHTML` + í…œí”Œë¦¿ ë¦¬í„°ëŸ´ íŒ¨í„´ì´ ê´‘ë²”ìœ„. `esc()` í—¬í¼ ì‚¬ìš©ì€ ê°œë°œì ê·œìœ¨ì— ì˜ì¡´. ëˆ„ë½ ì‹œ ì¦‰ê°ì  XSS ì·¨ì•½ì . |

#### ğŸŸ  Medium

| # | íŒŒì¼ | ì´ìŠˆ | ì„¤ëª… |
|---|------|------|------|
| F-3 | `app.js` | **ê¸€ë¡œë²Œ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ì˜¤ì—¼** | `window.sendMessage`, `window.addChatMessage` ë“± ë‹¤ìˆ˜ í•¨ìˆ˜ë¥¼ ì „ì—­ ë“±ë¡. ëª¨ë“ˆ ì‹œìŠ¤í…œ(import/export) ì‚¬ìš© ê¶Œì¥. |
| F-4 | `auth.js` | **ìë™ í† í° ê°±ì‹  ë¶€ì¬** | 401 ì‘ë‹µ ì‹œ `window.location.href = '/login.html'`ë¡œ ë¦¬ë””ë ‰íŠ¸. 15ë¶„ë§ˆë‹¤ ë¡œê·¸ì•„ì›ƒ ë°œìƒ. Silent Refresh ë¯¸êµ¬í˜„. |
| F-5 | `auth.js:39` | **localStorage í† í° ì €ì¥** | XSS ê³µê²© ì‹œ í† í° íƒˆì·¨ ê°€ëŠ¥. HttpOnly ì¿ í‚¤ë§Œ ì‚¬ìš©í•˜ë„ë¡ ì „í™˜ ê¶Œì¥. |

#### ğŸŸ¡ Low

| # | íŒŒì¼ | ì´ìŠˆ | ì„¤ëª… |
|---|------|------|------|
| F-6 | `js/modules/pages/*.js` | **ì£¼ì„ ë¶ˆì¼ì¹˜** | `auth.js`, `state.js`ëŠ” JSDoc ì™„ë¹„. ë°˜ë©´ `admin-metrics.js`, `cluster.js` ë“± í˜ì´ì§€ ëª¨ë“ˆì€ ëª¨ë“ˆ í—¤ë” ì£¼ì„ ì—†ìŒ. |
| F-7 | ì „ì²´ í”„ë¡ íŠ¸ì—”ë“œ | **CSRF í† í° ë¶€ì¬** | `SameSite=Lax` ì¿ í‚¤ì—ë§Œ ì˜ì¡´. Double-Submit Cookieë‚˜ Anti-CSRF í† í° íŒ¨í„´ ì—†ìŒ. |

---

## 4. ì¸ì¦ ë° ë³´ì•ˆ ê°ì‚¬

### 4.1 ì¸ì¦ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Authentication Layer                        â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ JWT Token   â”‚  â”‚ OAuth 2.0   â”‚  â”‚ API Key (HMAC-SHA-256)â”‚ â”‚
â”‚  â”‚ Access: 15m â”‚  â”‚ Google      â”‚  â”‚ Prefix: omk_live_     â”‚ â”‚
â”‚  â”‚ Refresh: 7d â”‚  â”‚ GitHub      â”‚  â”‚ timingSafeEqual       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚         â”‚                â”‚                     â”‚              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                   Middleware Chain                       â”‚  â”‚
â”‚  â”‚  optionalAuth â†’ requireAuth â†’ requireAdmin â†’ requireRoleâ”‚  â”‚
â”‚  â”‚  apiKeyAuth â†’ apiKeyLimiter â†’ scopeMiddleware           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Token Blacklist (PostgreSQL, jti ê¸°ë°˜)                 â”‚   â”‚
â”‚  â”‚  CORS Whitelist (ëª…ì‹œì , ë¦¬í”Œë ‰ì…˜ ë°©ì§€)                  â”‚   â”‚
â”‚  â”‚  Rate Limiting (ì¼ë°˜/ì±„íŒ…/ì¸ì¦ 3ë‹¨ê³„)                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 ë³´ì•ˆ ì·¨ì•½ì  ìš”ì•½

| ì‹¬ê°ë„ | ì˜ì—­ | ë°œê²¬ì‚¬í•­ | ìœ„ì¹˜ |
|:------:|------|----------|------|
| ğŸŸ  | Rate Limit | ì¸ë©”ëª¨ë¦¬ `Map` ê¸°ë°˜ â€” í´ëŸ¬ìŠ¤í„° ë¯¸ì§€ì›, ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ | `chat-rate-limiter.ts:14` |
| ğŸŸ  | Frontend | `localStorage`ì— JWT ì €ì¥ â€” XSS ì‹œ í† í° íƒˆì·¨ | `auth.js:39` |
| ğŸŸ¡ | CSRF | `SameSite=Lax`ë§Œ ì˜ì¡´ â€” Strict ë˜ëŠ” Anti-CSRF í† í° ê¶Œì¥ | `auth/index.ts:252` |
| ğŸŸ¡ | Auth UX | Silent Refresh ë¯¸êµ¬í˜„ â€” 15ë¶„ë§ˆë‹¤ ê°•ì œ ë¡œê·¸ì•„ì›ƒ | `auth.js:167` |
| âœ… | OAuth | `crypto.randomBytes(32)` state â€” CSRF ë°©ì§€ ì¶©ë¶„ | `AuthService.ts` |
| âœ… | API Key | HMAC-SHA-256 + pepper + `timingSafeEqual` | `api-key-utils.ts` |
| âœ… | CORS | ëª…ì‹œì  í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸, Origin ë¦¬í”Œë ‰ì…˜ ì—†ìŒ | `middlewares/index.ts` |
| âœ… | Helmet | CSP, frameAncestors: 'none', objectSrc: 'none' | `server.ts:249-295` |

---

## 5. MCP í†µí•© ë° ì„œë¹„ìŠ¤ ë ˆì´ì–´

### 5.1 MCP ì•„í‚¤í…ì²˜ (ìš°ìˆ˜)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  UnifiedMCPClient                     â”‚
â”‚    (ì‹±ê¸€í†¤ â€” ToolRouter + ServerRegistry ì´ˆê¸°í™”)       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ToolRouter â”‚    â”‚ ServerRegistryâ”‚    â”‚ToolTiers â”‚ â”‚
â”‚  â”‚ Built-in + â”‚    â”‚ DB ì˜ì†      â”‚    â”‚ free/pro â”‚ â”‚
â”‚  â”‚ External   â”‚    â”‚ ë™ì  ë“±ë¡    â”‚    â”‚ enterpriseâ”‚ â”‚
â”‚  â”‚ :: ë„¤ì„ìŠ¤í˜ì´ìŠ¤â”‚  â”‚ stdio/sse   â”‚    â”‚ ì™€ì¼ë“œì¹´ë“œ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â”‚
â”‚        â”‚                  â”‚                  â”‚       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚  â”‚              Built-in Tools                       â”‚
â”‚  â”‚  web_search | firecrawl_* | sequential_thinking  â”‚
â”‚  â”‚  deep_research | filesystem | vision_ocr         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚           UserSandbox (ë³´ì•ˆ)                    â”‚  â”‚
â”‚  â”‚  ê²½ë¡œ ê²©ë¦¬: USER_DATA_ROOT/{userId}/           â”‚  â”‚
â”‚  â”‚  ë””ë ‰í† ë¦¬ íƒˆì¶œ ë°©ì§€ (../ ì°¨ë‹¨)                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 ì„œë¹„ìŠ¤ ë ˆì´ì–´ í‰ê°€

| ì„œë¹„ìŠ¤ | íŒŒì¼ | í‰ê°€ | ë¹„ê³  |
|--------|------|------|------|
| ChatService | `services/ChatService.ts` | â˜…â˜…â˜…â˜…â˜† | Strategy íŒ¨í„´ ìš°ìˆ˜, ë‹¨ `console.log` ì‚¬ìš© |
| DeepResearchService | `services/DeepResearchService.ts` | â˜…â˜…â˜…â˜…â˜… | ì¬ê·€ ë¦¬ì„œì¹˜ ë£¨í”„, DB ìƒíƒœ ì˜ì† |
| MemoryService | `services/MemoryService.ts` | â˜…â˜…â˜…â˜…â˜† | ì¥ê¸° ê¸°ì–µ ì¶”ì¶œ/ì¬í™œìš© |
| ApiKeyService | `services/ApiKeyService.ts` | â˜…â˜…â˜…â˜…â˜… | HMAC í•´ì‹±, í‚¤ ë¡œí…Œì´ì…˜, ì‚¬ìš©ëŸ‰ ì¶”ì  |
| AuthService | `services/AuthService.ts` | â˜…â˜…â˜…â˜…â˜† | OAuth + JWT + ë¡œì»¬ ë¡œê·¸ì¸ í†µí•© |

### 5.3 Jukebox ëª¨ë“ˆ

`jukebox/` ë””ë ‰í† ë¦¬ëŠ” **ë…ë¦½ í”„ë¡œì íŠ¸** (Spotify Collaborative Playlists ëŒ€ì•ˆ). Node.js ì„œë²„ + React í”„ë¡ íŠ¸ì—”ë“œ. openmake_llmê³¼ **ì½”ë“œ ì˜ì¡´ì„± ì—†ìŒ**. ë³„ë„ ë¦¬í¬ë¡œ ë¶„ë¦¬ ê¶Œì¥.

---

## 6. ë°ì´í„° ë ˆì´ì–´ ë¦¬ë·°

### 6.1 ì•„í‚¤í…ì²˜

```
UnifiedDatabase (Facade)
    â”œâ”€â”€ UserRepository
    â”œâ”€â”€ ConversationRepository
    â”œâ”€â”€ MemoryRepository
    â”œâ”€â”€ ResearchRepository
    â”œâ”€â”€ ApiKeyRepository
    â”œâ”€â”€ CanvasRepository
    â”œâ”€â”€ MarketplaceRepository
    â””â”€â”€ AuditRepository
```

### 6.2 í‰ê°€

| í•­ëª© | ìƒíƒœ | ë¹„ê³  |
|------|------|------|
| SQL ì¸ì ì…˜ ë°©ì§€ | âœ… | ëª¨ë“  ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°í™” (`$1, $2`) |
| íŠ¸ëœì­ì…˜ ì§€ì› | âœ… | `pool.connect()` â†’ `BEGIN/COMMIT/ROLLBACK` |
| ì¬ì‹œë„ ë¡œì§ | âœ… | `retry-wrapper.ts` â€” ì§€ìˆ˜ ë°±ì˜¤í”„ |
| ìŠ¤í‚¤ë§ˆ ê´€ë¦¬ | ğŸŸ¡ | `002-schema.sql` + ì¸ë¼ì¸ `LEGACY_SCHEMA` ì´ì¤‘ ê´€ë¦¬ |
| ë§ˆì´ê·¸ë ˆì´ì…˜ | ğŸŸ¡ | ì •ì‹ ë§ˆì´ê·¸ë ˆì´ì…˜ ë„êµ¬ ë¯¸ì‚¬ìš© (ìˆ˜ë™ SQL) |
| ì»¤ë„¥ì…˜ í’€ | âœ… | pg Pool ê¸°ë°˜, ìë™ ì •ë¦¬ |

---

## 7. openmake/www êµì°¨ ê²€í† 

### 7.1 í”„ë¡œì íŠ¸ êµ¬ì¡°

```
openmake/www (Next.js 16.1.6 + Tailwind CSS v4)
â”œâ”€â”€ src/app/
â”‚   â”œâ”€â”€ page.tsx          â† í™ˆ (Hero, Features, BrandModels, OurStory, FAQ)
â”‚   â”œâ”€â”€ docs/page.tsx     â† ì„¤ì¹˜/ì„¤ì • ê°€ì´ë“œ (12ê°œ ì„¹ì…˜)
â”‚   â”œâ”€â”€ releases/page.tsx â† ë¦´ë¦¬ì¦ˆ ë…¸íŠ¸
â”‚   â””â”€â”€ roadmap/page.tsx  â† ê¸°ìˆ  ë¡œë“œë§µ (4 Phase)
â”œâ”€â”€ src/components/       â† 13ê°œ ì»´í¬ë„ŒíŠ¸
â””â”€â”€ src/lib/
    â”œâ”€â”€ constants.ts      â† SSOT: ë¦´ë¦¬ì¦ˆ, ë¡œë“œë§µ, FAQ ë°ì´í„°
    â””â”€â”€ types.ts          â† íƒ€ì… ì •ì˜
```

### 7.2 ğŸ”´ ë²„ì „ ë¶ˆì¼ì¹˜ (Critical)

| ìœ„ì¹˜ | í‘œì‹œ ë²„ì „ | ì‹¤ì œ ë²„ì „ | ìƒíƒœ |
|------|-----------|-----------|------|
| `openmake_llm/package.json` | **v1.5.5** | â€” | âœ… ìµœì‹  |
| `openmake_llm/CHANGELOG.md` | **v1.5.5** | â€” | âœ… ìµœì‹  |
| `www/constants.ts` RELEASES | **v1.5.4** (isLatest: true) | v1.5.5 | ğŸ”´ **ëˆ„ë½** |
| `www/components/OurStory.tsx` | "**v1.5.3**" | v1.5.5 | ğŸ”´ **êµ¬ë²„ì „ í•˜ë“œì½”ë”©** |
| `www/constants.ts` STATS | "57,000+" LOC | ~57,000 | ğŸŸ¡ í™•ì¸ í•„ìš” |
| `www/constants.ts` RELEASES v1.5.3 date | "**2025**-02-15" | **2026**-02-15 | ğŸ”´ **ì—°ë„ ì˜¤ë¥˜** |

### 7.3 ì½˜í…ì¸  ì •í•©ì„±

#### âœ… ì¼ì¹˜í•˜ëŠ” í•­ëª©

| í•­ëª© | www í‘œì‹œ | openmake_llm ì‹¤ì œ |
|------|----------|-------------------|
| 7 Brand Model Profiles | âœ… ì •í™• | `chat/pipeline-profile.ts` |
| Smart Auto-Routing | âœ… | `chat/model-selector.ts` â€” `classifyQueryWithLLM()` |
| Agent-to-Agent (A2A) | âœ… | `services/chat-strategies/A2AStrategy` |
| Deep Research | âœ… | `services/DeepResearchService.ts` |
| Discussion Mode | âœ… | `agents/discussion-engine.ts` |
| Sequential Thinking | âœ… | `mcp/sequential-thinking.ts` |
| Long-term Memory | âœ… | `services/MemoryService.ts` |
| MCP Integration | âœ… | `mcp/` ë””ë ‰í† ë¦¬ (16ê°œ íŒŒì¼) |
| OAuth & RBAC | âœ… | `auth/` + `middlewares/` |
| Canvas | âœ… | `routes/canvas.routes.ts` |
| 22 API Routes | âœ… | `routes/` ë””ë ‰í† ë¦¬ (22ê°œ íŒŒì¼) |
| 11 CLI Commands | âœ… | `cli.ts` (Commander.js) |
| CircuitBreaker | âœ… | `cluster/circuit-breaker.ts` |

#### ğŸ”´ ë¶ˆì¼ì¹˜/ëˆ„ë½ í•­ëª©

| # | í•­ëª© | www í‘œì‹œ | ì‹¤ì œ ìƒíƒœ | í•„ìš” ì¡°ì¹˜ |
|---|------|----------|-----------|-----------|
| W-1 | **v1.5.5 ë¦´ë¦¬ì¦ˆ ë…¸íŠ¸** | ì—†ìŒ | CHANGELOG.mdì— ì¡´ì¬ | `www/constants.ts` RELEASESì— v1.5.5 ì¶”ê°€ |
| W-2 | **OurStory íƒ€ì„ë¼ì¸** | "v1.5.3" | v1.5.5 | `OurStory.tsx` ë˜ëŠ” constantsì—ì„œ ë™ì  ì°¸ì¡° |
| W-3 | **ë¦´ë¦¬ì¦ˆ ë‚ ì§œ** | v1.5.3 = "2025-02-15" | 2026-02-15 | ì—°ë„ ìˆ˜ì • í•„ìš” |
| W-4 | **Docs: pgvector** | "Prerequisites: pgvector extension" | ì‚¬ìš©í•˜ì§€ ì•ŠìŒ | docs í˜ì´ì§€ì—ì„œ pgvector ì œê±° |
| W-5 | **isLatest í”Œë˜ê·¸** | v1.5.4ì— `isLatest: true` | v1.5.5ê°€ ìµœì‹  | v1.5.5ì— isLatest ì´ë™ |
| W-6 | **Roadmap Phase 1** | "v1.6, Q1 2026, in-progress" | ì•„ì§ êµ¬í˜„ ì•ˆ ë¨ | ìƒíƒœ ê²€ì¦ í•„ìš” |
| W-7 | **22 Frontend Pages** | STATSì— í‘œì‹œ | ì‹¤ì œ 22ê°œ í˜ì´ì§€ í™•ì¸ | âœ… ì •í™• |

---

## 8. ëˆ„ë½ ì£¼ì„ ë° ë³´ì™„ ëª©ë¡

### 8.1 ë°±ì—”ë“œ â€” ëˆ„ë½ ì£¼ì„

| # | íŒŒì¼ | ìœ„ì¹˜ | í•„ìš”í•œ ì£¼ì„ |
|---|------|------|------------|
| C-1 | `services/ChatService.ts` | `processMessage()` ë©”ì„œë“œ | JSDoc: ì „ëµ ì„ íƒ ë¡œì§ ì„¤ëª… (A2A/Discussion/Direct ë¶„ê¸° ê¸°ì¤€) |
| C-2 | `services/ChatService.ts` | `getAllowedTools()` ë©”ì„œë“œ | JSDoc: í‹°ì–´ë³„ ë„êµ¬ í•„í„°ë§ ë¡œì§, ë°˜í™˜ í˜•ì‹ |
| C-3 | `chat/profile-resolver.ts` | `buildExecutionPlan()` | JSDoc: Brand Model â†’ ExecutionPlan ë³€í™˜ ê·œì¹™ |
| C-4 | `chat/context-engineering.ts` | `ContextEngineeringBuilder.build()` | JSDoc: 4-Pillar í”„ë ˆì„ì›Œí¬ ì„¹ì…˜ ìˆœì„œì™€ ìºì‹œ ìµœì í™” ê·¼ê±° |
| C-5 | `ollama/agent-loop.ts` | ëª¨ë“ˆ ì „ì²´ | ëª¨ë“ˆ í—¤ë” ì£¼ì„: A2A ì—ì´ì „íŠ¸ ì‹¤í–‰ ë£¨í”„ ë™ì‘ ë°©ì‹ |
| C-6 | `ollama/multi-model-client.ts` | ëª¨ë“ˆ ì „ì²´ | ëª¨ë“ˆ í—¤ë” ì£¼ì„: ë³‘ë ¬ ëª¨ë¸ ìƒì„± ë° í•©ì„± ë¡œì§ |
| C-7 | `ollama/connection-pool.ts` | ëª¨ë“ˆ ì „ì²´ | ëª¨ë“ˆ í—¤ë” ì£¼ì„: Ollama HTTP ì»¤ë„¥ì…˜ í’€ë§ ì „ëµ |
| C-8 | `chat/prompt-enhancer.ts` | ëª¨ë“ˆ ì „ì²´ | ëª¨ë“ˆ í—¤ë” ì£¼ì„: ë™ì  í”„ë¡¬í”„íŠ¸ ê°•í™” ë¡œì§ |
| C-9 | `chat/xml-escape.ts` | ëª¨ë“ˆ ì „ì²´ | ëª¨ë“ˆ í—¤ë” ì£¼ì„: XML ì´ìŠ¤ì¼€ì´í”„ ì‚¬ìš© ë§¥ë½ |
| C-10 | `config/constants.ts` | ìƒìˆ˜ ì •ì˜ë“¤ | ê° ìƒìˆ˜ ê·¸ë£¹ë³„ JSDoc (Rate Limit, Server, Cache ë“±) |
| C-11 | `cluster/circuit-breaker.ts` | `CircuitBreaker` í´ë˜ìŠ¤ | 3-ìƒíƒœ ì „í™˜ ë‹¤ì´ì–´ê·¸ë¨ ì£¼ì„ |
| C-12 | `services/chat-strategies/` | ê° Strategy í´ë˜ìŠ¤ | JSDoc: ì „ëµ ì„ íƒ ì¡°ê±´, ì…ì¶œë ¥ í˜•ì‹ |
| C-13 | `data/repositories/` | ê° Repository | JSDoc: ë„ë©”ì¸ë³„ CRUD ë©”ì„œë“œ ì„¤ëª… |

### 8.2 í”„ë¡ íŠ¸ì—”ë“œ â€” ëˆ„ë½ ì£¼ì„

| # | íŒŒì¼ | í•„ìš”í•œ ì£¼ì„ |
|---|------|------------|
| C-14 | `js/modules/pages/admin-metrics.js` | ëª¨ë“ˆ í—¤ë”: í†µí•© ëª¨ë‹ˆí„°ë§ í˜ì´ì§€ ì—­í• , Chart.js ì˜ì¡´ì„± |
| C-15 | `js/modules/pages/cluster.js` | ëª¨ë“ˆ í—¤ë”: í´ëŸ¬ìŠ¤í„° ë…¸ë“œ ëª¨ë‹ˆí„°ë§, í´ë§ ì£¼ê¸° |
| C-16 | `js/modules/pages/canvas.js` | ëª¨ë“ˆ í—¤ë”: ìº”ë²„ìŠ¤ CRUD, ê³µìœ  í† í° |
| C-17 | `js/modules/pages/research.js` | ëª¨ë“ˆ í—¤ë”: Deep Research UI, ì§„í–‰ ìƒíƒœ ì¶”ì  |
| C-18 | `js/modules/pages/mcp-tools.js` | ëª¨ë“ˆ í—¤ë”: MCP ë„êµ¬ ê´€ë¦¬ UI |
| C-19 | `js/modules/pages/marketplace.js` | ëª¨ë“ˆ í—¤ë”: ì—ì´ì „íŠ¸ ë§ˆì¼“í”Œë ˆì´ìŠ¤ |
| C-20 | `js/modules/pages/external.js` | ëª¨ë“ˆ í—¤ë”: ì™¸ë¶€ MCP ì„œë²„ ì—°ê²° ê´€ë¦¬ |
| C-21 | `js/modules/pages/alerts.js` | ëª¨ë“ˆ í—¤ë”: ì‹œìŠ¤í…œ ì•Œë¦¼ ê´€ë¦¬ |
| C-22 | `js/modules/pages/token-monitoring.js` | ëª¨ë“ˆ í—¤ë”: í† í° ì‚¬ìš©ëŸ‰ ì‹œê°í™” |
| C-23 | `js/modules/pages/agent-learning.js` | ëª¨ë“ˆ í—¤ë”: RLHF ê¸°ë°˜ ì—ì´ì „íŠ¸ í•™ìŠµ |
| C-24 | `js/modules/pages/custom-agents.js` | ëª¨ë“ˆ í—¤ë”: ì»¤ìŠ¤í…€ ì—ì´ì „íŠ¸ ë¹Œë” |
| C-25 | `js/modules/pages/password-change.js` | ëª¨ë“ˆ í—¤ë”: ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ í¼ |
| C-26 | `js/modules/websocket.js` | JSDoc: ì¬ì—°ê²° ì „ëµ, í•˜íŠ¸ë¹„íŠ¸ ì£¼ê¸°, ë©”ì‹œì§€ í¬ë§· |
| C-27 | `js/modules/chat.js` | JSDoc: ë©”ì‹œì§€ ë Œë”ë§ íŒŒì´í”„ë¼ì¸, ë§ˆí¬ë‹¤ìš´ ì²˜ë¦¬ |
| C-28 | `js/modules/ui.js` | JSDoc: UI ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ ëª©ë¡ê³¼ ì‚¬ìš© ì»¨í…ìŠ¤íŠ¸ |
| C-29 | `js/modules/utils.js` | JSDoc: ë²”ìš© í—¬í¼ í•¨ìˆ˜ ì„¤ëª… |

### 8.3 www â€” ëˆ„ë½/ë³´ì™„ í•­ëª©

| # | íŒŒì¼ | í•„ìš”í•œ ì¡°ì¹˜ |
|---|------|------------|
| C-30 | `src/lib/constants.ts` | v1.5.5 ë¦´ë¦¬ì¦ˆ ë…¸íŠ¸ ì¶”ê°€ |
| C-31 | `src/lib/constants.ts` | v1.5.3 ë‚ ì§œ "2025-02-15" â†’ "2026-02-15" ìˆ˜ì • |
| C-32 | `src/lib/constants.ts` | v1.5.4 `isLatest: true` â†’ v1.5.5ë¡œ ì´ë™ |
| C-33 | `src/components/OurStory.tsx` | íƒ€ì„ë¼ì¸ "v1.5.3" â†’ ìµœì‹  ë²„ì „ ë™ì  ì°¸ì¡° |
| C-34 | `src/app/docs/page.tsx` | Prerequisitesì—ì„œ "pgvector extension" ì œê±° |
| C-35 | `src/lib/constants.ts` | STATS "57,000+" LOC ê²€ì¦ ë° ê°±ì‹  |

---

## 9. ì¢…í•© ê¶Œê³ ì‚¬í•­

### 9.1 ìš°ì„ ìˆœìœ„ë³„ ì•¡ì…˜ ì•„ì´í…œ

#### ğŸ”´ Immediate (ì¦‰ì‹œ)

| # | ì•¡ì…˜ | ì˜í–¥ ë²”ìœ„ | ì˜ˆìƒ LOC |
|---|------|-----------|----------|
| A-1 | www `constants.ts`ì— v1.5.5 ë¦´ë¦¬ì¦ˆ ì¶”ê°€ + ë‚ ì§œ/ë²„ì „ ì˜¤ë¥˜ ìˆ˜ì • | www | ~60 |
| A-2 | www `OurStory.tsx` íƒ€ì„ë¼ì¸ ë²„ì „ ê°±ì‹  | www | ~5 |
| A-3 | www `docs/page.tsx` pgvector ì–¸ê¸‰ ì œê±° | www | ~1 |
| A-4 | `ChatService.ts`ì˜ `console.log` â†’ `logger` ì „í™˜ | backend | ~20 |

#### ğŸŸ  Short-term (1-2ì£¼)

| # | ì•¡ì…˜ | ì˜í–¥ ë²”ìœ„ | ì˜ˆìƒ LOC |
|---|------|-----------|----------|
| A-5 | `chat-rate-limiter.ts` Redis ê¸°ë°˜ìœ¼ë¡œ ì „í™˜ | backend | ~50 |
| A-6 | í”„ë¡ íŠ¸ì—”ë“œ Silent Refresh êµ¬í˜„ | frontend | ~40 |
| A-7 | `auth.controller.ts` DDL â†’ `OAuthRepository` ë˜ëŠ” ìŠ¤í‚¤ë§ˆ ë§ˆì´ê·¸ë ˆì´ì…˜ìœ¼ë¡œ ì´ë™ | backend | ~30 |
| A-8 | `app.js` ì¤‘ë³µ í•¨ìˆ˜ ì œê±° (ëª¨ë“ˆ ë²„ì „ì„ SSOTë¡œ í™•ì •) | frontend | ~-200 |
| A-9 | ë°±ì—”ë“œ ëˆ„ë½ ì£¼ì„ ì¶”ê°€ (C-1 ~ C-13) | backend | ~150 |
| A-10 | í”„ë¡ íŠ¸ì—”ë“œ ëˆ„ë½ ì£¼ì„ ì¶”ê°€ (C-14 ~ C-29) | frontend | ~200 |

#### ğŸŸ¡ Medium-term (1ê°œì›”)

| # | ì•¡ì…˜ | ì˜í–¥ ë²”ìœ„ |
|---|------|-----------|
| A-11 | `UnifiedDatabase` LEGACY_SCHEMA ì œê±°, ë§ˆì´ê·¸ë ˆì´ì…˜ ë„êµ¬ ë„ì… |
| A-12 | `localStorage` í† í° ì €ì¥ ì œê±° â†’ HttpOnly Cookie ì „ìš© |
| A-13 | ì—ëŸ¬ í•¸ë“¤ë§ íŒ¨í„´ í†µì¼ (`asyncHandler` í‘œì¤€í™”) |
| A-14 | `jukebox/` ë³„ë„ ë¦¬í¬ë¡œ ë¶„ë¦¬ |
| A-15 | `SameSite=Lax` â†’ `SameSite=Strict` ë˜ëŠ” Anti-CSRF í† í° ë„ì… |

### 9.2 ì½”ë“œ í’ˆì§ˆ ì ìˆ˜ ìš”ì•½

| ì˜ì—­ | ì ìˆ˜ | ì£¼ìš” ê°ì  ìš”ì¸ |
|------|------|---------------|
| **ë°±ì—”ë“œ ì•„í‚¤í…ì²˜** | 88/100 | console.log, ì—ëŸ¬ í•¸ë“¤ë§ ë¶ˆì¼ì¹˜ |
| **í”„ë¡ íŠ¸ì—”ë“œ** | 72/100 | app.js ëª¨ë†€ë¦¬ìŠ¤, innerHTML XSS ìœ„í—˜ |
| **ì¸ì¦/ë³´ì•ˆ** | 85/100 | ì¸ë©”ëª¨ë¦¬ Rate Limit, localStorage í† í° |
| **MCP í†µí•©** | 95/100 | ìš°ìˆ˜í•œ ToolRouter, í‹°ì–´, ìƒŒë“œë°•ìŠ¤ |
| **ë°ì´í„° ë ˆì´ì–´** | 82/100 | LEGACY_SCHEMA ì´ì¤‘ ê´€ë¦¬, ë§ˆì´ê·¸ë ˆì´ì…˜ ë„êµ¬ ë¶€ì¬ |
| **www ì •í•©ì„±** | 68/100 | ë²„ì „ ë¶ˆì¼ì¹˜(v1.5.5 ëˆ„ë½), ë‚ ì§œ ì˜¤ë¥˜ |
| **ë¬¸ì„œí™”** | 78/100 | í•µì‹¬ ëª¨ë“ˆ ì£¼ì„ ëˆ„ë½ 29ê±´ |
| **ì „ì²´** | **81/100** | |

---

## ë¶€ë¡: íŒŒì¼ë³„ ì£¼ì„ í˜„í™©

### ëª¨ë“ˆ í—¤ë” ì£¼ì„ ì¡´ì¬ ì—¬ë¶€

| íŒŒì¼ | í—¤ë” ì£¼ì„ | JSDoc | ìƒíƒœ |
|------|:---------:|:-----:|------|
| `server.ts` | âœ… | âœ… | ì™„ë¹„ |
| `bootstrap.ts` | âœ… | âœ… | ì™„ë¹„ |
| `services/ChatService.ts` | âœ… | ğŸŸ¡ ë¶€ë¶„ | processMessage ëˆ„ë½ |
| `auth/index.ts` | âœ… | âœ… | ì™„ë¹„ |
| `auth/middleware.ts` | âœ… | âœ… | ì™„ë¹„ |
| `utils/error-handler.ts` | âœ… | âœ… | ì™„ë¹„ |
| `data/models/unified-database.ts` | âœ… | âœ… | ì™„ë¹„ |
| `chat/pipeline-profile.ts` | âœ… | âœ… | ì™„ë¹„ |
| `chat/model-selector.ts` | âœ… | ğŸŸ¡ ë¶€ë¶„ | LLM ë¶„ë¥˜ê¸° ì„¤ëª… ë¶€ì¡± |
| `chat/context-engineering.ts` | âœ… | ğŸŸ¡ ë¶€ë¶„ | build() ìˆœì„œ ê·¼ê±° ëˆ„ë½ |
| `mcp/tool-router.ts` | âœ… | âœ… | ì™„ë¹„ |
| `mcp/tool-tiers.ts` | âœ… | âœ… | ì™„ë¹„ |
| `ollama/agent-loop.ts` | âŒ | âŒ | **ëˆ„ë½** |
| `ollama/multi-model-client.ts` | âŒ | âŒ | **ëˆ„ë½** |
| `ollama/connection-pool.ts` | âŒ | âŒ | **ëˆ„ë½** |
| `chat/prompt-enhancer.ts` | âŒ | âŒ | **ëˆ„ë½** |
| `chat/xml-escape.ts` | âŒ | âŒ | **ëˆ„ë½** |
| `config/constants.ts` | âŒ | âŒ | **ëˆ„ë½** |
| `spa-router.js` | âœ… | âœ… | ì™„ë¹„ |
| `state.js` | âœ… | âœ… | ì™„ë¹„ |
| `sanitize.js` | âœ… | âœ… | ì™„ë¹„ |
| `auth.js` | âœ… | âœ… | ì™„ë¹„ |
| `pages/admin-metrics.js` | âŒ | âŒ | **ëˆ„ë½** |
| `pages/cluster.js` | âŒ | âŒ | **ëˆ„ë½** |
| `pages/canvas.js` | âŒ | âŒ | **ëˆ„ë½** |
| `pages/research.js` | âŒ | âŒ | **ëˆ„ë½** |

---

*ë¦¬í¬íŠ¸ ì¢…ë£Œ. ì´ 35ê±´ì˜ ë³´ì™„/ëˆ„ë½ í•­ëª©, 15ê±´ì˜ ê°œì„  ê¶Œê³ ì‚¬í•­ ì‹ë³„.*
