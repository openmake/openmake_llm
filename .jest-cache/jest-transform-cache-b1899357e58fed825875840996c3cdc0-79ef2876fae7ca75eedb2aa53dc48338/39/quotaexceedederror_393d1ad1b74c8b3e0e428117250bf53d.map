{"file":"/Volumes/MAC_APP/openmake_llm/backend/api/src/errors/quota-exceeded.error.ts","mappings":";;;AAAA;;;GAGG;AACH,MAAa,kBAAmB,SAAQ,KAAK;IAMzC,YAAY,SAAuC,EAAE,IAAY,EAAE,KAAa;QAC5E,MAAM,OAAO,GAAG,uBAAuB,SAAS,MAAM,IAAI,IAAI,KAAK,gBAAgB,CAAC;QACpF,KAAK,CAAC,OAAO,CAAC,CAAC;QACf,IAAI,CAAC,IAAI,GAAG,oBAAoB,CAAC;QACjC,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,6BAA6B;QAC7B,IAAI,CAAC,iBAAiB,GAAG,SAAS,KAAK,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;IACnE,CAAC;CACJ;AAhBD,gDAgBC","names":[],"sources":["/Volumes/MAC_APP/openmake_llm/backend/api/src/errors/quota-exceeded.error.ts"],"sourcesContent":["/**\n * Error thrown when API quota is exceeded (hourly or weekly).\n * Should result in HTTP 429 Too Many Requests response.\n */\nexport class QuotaExceededError extends Error {\n    public readonly quotaType: 'hourly' | 'weekly' | 'both';\n    public readonly used: number;\n    public readonly limit: number;\n    public readonly retryAfterSeconds: number;\n\n    constructor(quotaType: 'hourly' | 'weekly' | 'both', used: number, limit: number) {\n        const message = `API quota exceeded (${quotaType}): ${used}/${limit} requests used`;\n        super(message);\n        this.name = 'QuotaExceededError';\n        this.quotaType = quotaType;\n        this.used = used;\n        this.limit = limit;\n        // Hourly quota resets faster\n        this.retryAfterSeconds = quotaType === 'hourly' ? 3600 : 86400;\n    }\n}\n"],"version":3}