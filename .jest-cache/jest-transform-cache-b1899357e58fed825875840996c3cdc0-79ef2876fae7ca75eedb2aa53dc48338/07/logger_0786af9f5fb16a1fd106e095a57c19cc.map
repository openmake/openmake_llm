{"file":"/Volumes/MAC_APP/openmake_llm/backend/api/src/utils/logger.ts","mappings":"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","names":[],"sources":["/Volumes/MAC_APP/openmake_llm/backend/api/src/utils/logger.ts"],"sourcesContent":["/**\n * ðŸ†• í†µí•© ë¡œê¹… ì‹œìŠ¤í…œ\n * Winston ê¸°ë°˜ êµ¬ì¡°í™”ëœ ë¡œê¹…\n */\n\nimport winston from 'winston';\nimport path from 'path';\n\nconst logDir = path.join(__dirname, '../../logs');\n\n// ì»¤ìŠ¤í…€ í¬ë§·\nconst customFormat = winston.format.combine(\n    winston.format.timestamp({ format: 'YYYY-MM-DD HH:mm:ss' }),\n    winston.format.errors({ stack: true }),\n    winston.format.printf(({ level, message, timestamp, ...meta }) => {\n        const metaStr = Object.keys(meta).length ? JSON.stringify(meta) : '';\n        return `[${timestamp}] ${level.toUpperCase()}: ${message} ${metaStr}`;\n    })\n);\n\n// ì½˜ì†” í¬ë§· (ì»¬ëŸ¬)\nconst consoleFormat = winston.format.combine(\n    winston.format.colorize(),\n    winston.format.timestamp({ format: 'HH:mm:ss' }),\n    winston.format.printf(({ level, message, timestamp }) => {\n        return `[${timestamp}] ${level}: ${message}`;\n    })\n);\n\n// ë¡œê±° ìƒì„±\nexport const logger = winston.createLogger({\n    level: process.env.LOG_LEVEL || 'info',\n    format: customFormat,\n    transports: [\n        // ì½˜ì†” ì¶œë ¥\n        new winston.transports.Console({\n            format: consoleFormat\n        }),\n        // ì—ëŸ¬ ë¡œê·¸ íŒŒì¼\n        new winston.transports.File({\n            filename: path.join(logDir, 'error.log'),\n            level: 'error',\n            maxsize: 5242880, // 5MB\n            maxFiles: 5\n        }),\n        // ì „ì²´ ë¡œê·¸ íŒŒì¼\n        new winston.transports.File({\n            filename: path.join(logDir, 'combined.log'),\n            maxsize: 5242880,\n            maxFiles: 5\n        })\n    ]\n});\n\n// ì¹´í…Œê³ ë¦¬ë³„ ë¡œê±° ìƒì„±\nexport function createLogger(category: string) {\n    return {\n        debug: (msg: string, meta?: any) => logger.debug(`[${category}] ${msg}`, meta),\n        info: (msg: string, meta?: any) => logger.info(`[${category}] ${msg}`, meta),\n        warn: (msg: string, meta?: any) => logger.warn(`[${category}] ${msg}`, meta),\n        error: (msg: string, meta?: any) => logger.error(`[${category}] ${msg}`, meta)\n    };\n}\n\nexport default logger;\n"],"version":3}