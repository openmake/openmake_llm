d68ba6821dffd382b962941830c107a6
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const model_selector_1 = require("../chat/model-selector");
describe('Model Selector', () => {
    describe('classifyQuery', () => {
        test('코딩 질문 분류', () => {
            const result = (0, model_selector_1.classifyQuery)('React 컴포넌트에서 useState 사용법 알려줘');
            expect(result.type).toBe('code');
            expect(result.confidence).toBeGreaterThan(0);
        });
        test('분석 질문 분류', () => {
            const result = (0, model_selector_1.classifyQuery)('이 데이터를 분석해서 인사이트 뽑아줘');
            expect(result.type).toBe('analysis');
        });
        test('창작 질문 분류', () => {
            const result = (0, model_selector_1.classifyQuery)('판타지 소설 아이디어 좀 브레인스토밍 해줘');
            expect(result.type).toBe('creative');
        });
        test('비전 질문 분류', () => {
            const result = (0, model_selector_1.classifyQuery)('이 이미지에서 텍스트 추출해줘');
            expect(result.type).toBe('vision');
        });
        test('수학 질문 분류', () => {
            const result = (0, model_selector_1.classifyQuery)('미적분 문제 풀어줘: ∫x²dx');
            expect(result.type).toBe('math');
        });
        test('문서 질문 분류', () => {
            const result = (0, model_selector_1.classifyQuery)('이 문서 요약해줘');
            expect(result.type).toBe('document');
        });
        test('번역 질문 분류', () => {
            const result = (0, model_selector_1.classifyQuery)('이 문장을 영어로 번역해줘');
            expect(result.type).toBe('translation');
        });
    });
    describe('selectOptimalModel', () => {
        test('코딩 질문에 적절한 모델 선택', () => {
            const result = (0, model_selector_1.selectOptimalModel)('Python 함수 작성해줘');
            expect(result.queryType).toBe('code');
            expect(result.supportsToolCalling).toBe(true);
        });
        test('비전 질문에 비전 지원 모델 선택', () => {
            const result = (0, model_selector_1.selectOptimalModel)('이미지 분석해줘', true);
            expect(result.queryType).toBe('vision');
            expect(result.supportsVision).toBe(true);
        });
    });
    describe('checkModelCapability', () => {
        test('Gemini 모델 도구 지원 확인', () => {
            expect((0, model_selector_1.checkModelCapability)('gemini-3-flash-preview:cloud', 'toolCalling')).toBe(true);
            expect((0, model_selector_1.checkModelCapability)('gemini-3-flash-preview:cloud', 'vision')).toBe(true);
        });
        test('Qwen Coder 모델 비전 미지원 확인', () => {
            expect((0, model_selector_1.checkModelCapability)('qwen3-coder-next:cloud', 'vision')).toBe(false);
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1ZvbHVtZXMvTUFDX0FQUC9vcGVubWFrZV9sbG0vYmFja2VuZC9hcGkvc3JjL19fdGVzdHNfXy9tb2RlbC1zZWxlY3Rvci50ZXN0LnRzIiwibWFwcGluZ3MiOiI7O0FBQUEsMkRBQWlHO0FBRWpHLFFBQVEsQ0FBQyxnQkFBZ0IsRUFBRSxHQUFHLEVBQUU7SUFDNUIsUUFBUSxDQUFDLGVBQWUsRUFBRSxHQUFHLEVBQUU7UUFDM0IsSUFBSSxDQUFDLFVBQVUsRUFBRSxHQUFHLEVBQUU7WUFDbEIsTUFBTSxNQUFNLEdBQUcsSUFBQSw4QkFBYSxFQUFDLCtCQUErQixDQUFDLENBQUM7WUFDOUQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDakMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDakQsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsVUFBVSxFQUFFLEdBQUcsRUFBRTtZQUNsQixNQUFNLE1BQU0sR0FBRyxJQUFBLDhCQUFhLEVBQUMsc0JBQXNCLENBQUMsQ0FBQztZQUNyRCxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUN6QyxDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxVQUFVLEVBQUUsR0FBRyxFQUFFO1lBQ2xCLE1BQU0sTUFBTSxHQUFHLElBQUEsOEJBQWEsRUFBQyx5QkFBeUIsQ0FBQyxDQUFDO1lBQ3hELE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ3pDLENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLFVBQVUsRUFBRSxHQUFHLEVBQUU7WUFDbEIsTUFBTSxNQUFNLEdBQUcsSUFBQSw4QkFBYSxFQUFDLGtCQUFrQixDQUFDLENBQUM7WUFDakQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDdkMsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsVUFBVSxFQUFFLEdBQUcsRUFBRTtZQUNsQixNQUFNLE1BQU0sR0FBRyxJQUFBLDhCQUFhLEVBQUMsbUJBQW1CLENBQUMsQ0FBQztZQUNsRCxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNyQyxDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxVQUFVLEVBQUUsR0FBRyxFQUFFO1lBQ2xCLE1BQU0sTUFBTSxHQUFHLElBQUEsOEJBQWEsRUFBQyxXQUFXLENBQUMsQ0FBQztZQUMxQyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUN6QyxDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxVQUFVLEVBQUUsR0FBRyxFQUFFO1lBQ2xCLE1BQU0sTUFBTSxHQUFHLElBQUEsOEJBQWEsRUFBQyxnQkFBZ0IsQ0FBQyxDQUFDO1lBQy9DLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBQzVDLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQyxDQUFDLENBQUM7SUFFSCxRQUFRLENBQUMsb0JBQW9CLEVBQUUsR0FBRyxFQUFFO1FBQ2hDLElBQUksQ0FBQyxrQkFBa0IsRUFBRSxHQUFHLEVBQUU7WUFDMUIsTUFBTSxNQUFNLEdBQUcsSUFBQSxtQ0FBa0IsRUFBQyxnQkFBZ0IsQ0FBQyxDQUFDO1lBQ3BELE1BQU0sQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ3RDLE1BQU0sQ0FBQyxNQUFNLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDbEQsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsb0JBQW9CLEVBQUUsR0FBRyxFQUFFO1lBQzVCLE1BQU0sTUFBTSxHQUFHLElBQUEsbUNBQWtCLEVBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxDQUFDO1lBQ3BELE1BQU0sQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ3hDLE1BQU0sQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzdDLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQyxDQUFDLENBQUM7SUFFSCxRQUFRLENBQUMsc0JBQXNCLEVBQUUsR0FBRyxFQUFFO1FBQ2xDLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxHQUFHLEVBQUU7WUFDNUIsTUFBTSxDQUFDLElBQUEscUNBQW9CLEVBQUMsOEJBQThCLEVBQUUsYUFBYSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDdkYsTUFBTSxDQUFDLElBQUEscUNBQW9CLEVBQUMsOEJBQThCLEVBQUUsUUFBUSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDdEYsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMseUJBQXlCLEVBQUUsR0FBRyxFQUFFO1lBQ2pDLE1BQU0sQ0FBQyxJQUFBLHFDQUFvQixFQUFDLHdCQUF3QixFQUFFLFFBQVEsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ2pGLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQyxDQUFDLENBQUM7QUFDUCxDQUFDLENBQUMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvVm9sdW1lcy9NQUNfQVBQL29wZW5tYWtlX2xsbS9iYWNrZW5kL2FwaS9zcmMvX190ZXN0c19fL21vZGVsLXNlbGVjdG9yLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY2xhc3NpZnlRdWVyeSwgc2VsZWN0T3B0aW1hbE1vZGVsLCBjaGVja01vZGVsQ2FwYWJpbGl0eSB9IGZyb20gJy4uL2NoYXQvbW9kZWwtc2VsZWN0b3InO1xuXG5kZXNjcmliZSgnTW9kZWwgU2VsZWN0b3InLCAoKSA9PiB7XG4gICAgZGVzY3JpYmUoJ2NsYXNzaWZ5UXVlcnknLCAoKSA9PiB7XG4gICAgICAgIHRlc3QoJ+y9lOuUqSDsp4jrrLgg67aE66WYJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gY2xhc3NpZnlRdWVyeSgnUmVhY3Qg7Lu07Y+s64SM7Yq47JeQ7IScIHVzZVN0YXRlIOyCrOyaqeuylSDslYzroKTspJgnKTtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQudHlwZSkudG9CZSgnY29kZScpO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5jb25maWRlbmNlKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRlc3QoJ+u2hOyEnSDsp4jrrLgg67aE66WYJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gY2xhc3NpZnlRdWVyeSgn7J20IOuNsOydtO2EsOulvCDrtoTshJ3tlbTshJwg7J247IKs7J207Yq4IOu9keyVhOykmCcpO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC50eXBlKS50b0JlKCdhbmFseXNpcycpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0ZXN0KCfssL3snpEg7KeI66y4IOu2hOulmCcsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGNsYXNzaWZ5UXVlcnkoJ+2MkO2DgOyngCDshozshKQg7JWE7J2065SU7Ja0IOyigCDruIzroIjsnbjsiqTthqDrsI0g7ZW07KSYJyk7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnR5cGUpLnRvQmUoJ2NyZWF0aXZlJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRlc3QoJ+u5hOyghCDsp4jrrLgg67aE66WYJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gY2xhc3NpZnlRdWVyeSgn7J20IOydtOuvuOyngOyXkOyEnCDthY3siqTtirgg7LaU7Lac7ZW07KSYJyk7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnR5cGUpLnRvQmUoJ3Zpc2lvbicpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0ZXN0KCfsiJjtlZkg7KeI66y4IOu2hOulmCcsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGNsYXNzaWZ5UXVlcnkoJ+uvuOyggeu2hCDrrLjsoJwg7ZKA7Ja07KSYOiDiiKt4wrJkeCcpO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC50eXBlKS50b0JlKCdtYXRoJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRlc3QoJ+usuOyEnCDsp4jrrLgg67aE66WYJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gY2xhc3NpZnlRdWVyeSgn7J20IOusuOyEnCDsmpTslb3tlbTspJgnKTtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQudHlwZSkudG9CZSgnZG9jdW1lbnQnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGVzdCgn67KI7JetIOyniOusuCDrtoTrpZgnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBjbGFzc2lmeVF1ZXJ5KCfsnbQg66y47J6l7J2EIOyYgeyWtOuhnCDrsojsl63tlbTspJgnKTtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQudHlwZSkudG9CZSgndHJhbnNsYXRpb24nKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgnc2VsZWN0T3B0aW1hbE1vZGVsJywgKCkgPT4ge1xuICAgICAgICB0ZXN0KCfsvZTrlKkg7KeI66y47JeQIOyggeygiO2VnCDrqqjrjbgg7ISg7YOdJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gc2VsZWN0T3B0aW1hbE1vZGVsKCdQeXRob24g7ZWo7IiYIOyekeyEse2VtOykmCcpO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5xdWVyeVR5cGUpLnRvQmUoJ2NvZGUnKTtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQuc3VwcG9ydHNUb29sQ2FsbGluZykudG9CZSh0cnVlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGVzdCgn67mE7KCEIOyniOusuOyXkCDruYTsoIQg7KeA7JuQIOuqqOuNuCDshKDtg50nLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBzZWxlY3RPcHRpbWFsTW9kZWwoJ+ydtOuvuOyngCDrtoTshJ3tlbTspJgnLCB0cnVlKTtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQucXVlcnlUeXBlKS50b0JlKCd2aXNpb24nKTtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQuc3VwcG9ydHNWaXNpb24pLnRvQmUodHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ2NoZWNrTW9kZWxDYXBhYmlsaXR5JywgKCkgPT4ge1xuICAgICAgICB0ZXN0KCdHZW1pbmkg66qo6424IOuPhOq1rCDsp4Dsm5Ag7ZmV7J24JywgKCkgPT4ge1xuICAgICAgICAgICAgZXhwZWN0KGNoZWNrTW9kZWxDYXBhYmlsaXR5KCdnZW1pbmktMy1mbGFzaC1wcmV2aWV3OmNsb3VkJywgJ3Rvb2xDYWxsaW5nJykpLnRvQmUodHJ1ZSk7XG4gICAgICAgICAgICBleHBlY3QoY2hlY2tNb2RlbENhcGFiaWxpdHkoJ2dlbWluaS0zLWZsYXNoLXByZXZpZXc6Y2xvdWQnLCAndmlzaW9uJykpLnRvQmUodHJ1ZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRlc3QoJ1F3ZW4gQ29kZXIg66qo6424IOu5hOyghCDrr7jsp4Dsm5Ag7ZmV7J24JywgKCkgPT4ge1xuICAgICAgICAgICAgZXhwZWN0KGNoZWNrTW9kZWxDYXBhYmlsaXR5KCdxd2VuMy1jb2Rlci1uZXh0OmNsb3VkJywgJ3Zpc2lvbicpKS50b0JlKGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59KTtcbiJdLCJ2ZXJzaW9uIjozfQ==