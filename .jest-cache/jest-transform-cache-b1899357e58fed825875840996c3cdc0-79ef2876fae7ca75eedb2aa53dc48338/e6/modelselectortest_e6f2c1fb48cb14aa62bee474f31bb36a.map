{"file":"/Volumes/MAC_APP/openmake_llm/backend/api/src/__tests__/model-selector.test.ts","mappings":"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","names":[],"sources":["/Volumes/MAC_APP/openmake_llm/backend/api/src/__tests__/model-selector.test.ts"],"sourcesContent":["import { classifyQuery, selectOptimalModel, checkModelCapability } from '../chat/model-selector';\n\ndescribe('Model Selector', () => {\n    describe('classifyQuery', () => {\n        test('코딩 질문 분류', () => {\n            const result = classifyQuery('React 컴포넌트에서 useState 사용법 알려줘');\n            expect(result.type).toBe('code');\n            expect(result.confidence).toBeGreaterThan(0);\n        });\n\n        test('분석 질문 분류', () => {\n            const result = classifyQuery('이 데이터를 분석해서 인사이트 뽑아줘');\n            expect(result.type).toBe('analysis');\n        });\n\n        test('창작 질문 분류', () => {\n            const result = classifyQuery('판타지 소설 아이디어 좀 브레인스토밍 해줘');\n            expect(result.type).toBe('creative');\n        });\n\n        test('비전 질문 분류', () => {\n            const result = classifyQuery('이 이미지에서 텍스트 추출해줘');\n            expect(result.type).toBe('vision');\n        });\n\n        test('수학 질문 분류', () => {\n            const result = classifyQuery('미적분 문제 풀어줘: ∫x²dx');\n            expect(result.type).toBe('math');\n        });\n\n        test('문서 질문 분류', () => {\n            const result = classifyQuery('이 문서 요약해줘');\n            expect(result.type).toBe('document');\n        });\n\n        test('번역 질문 분류', () => {\n            const result = classifyQuery('이 문장을 영어로 번역해줘');\n            expect(result.type).toBe('translation');\n        });\n    });\n\n    describe('selectOptimalModel', () => {\n        test('코딩 질문에 적절한 모델 선택', () => {\n            const result = selectOptimalModel('Python 함수 작성해줘');\n            expect(result.queryType).toBe('code');\n            expect(result.supportsToolCalling).toBe(true);\n        });\n\n        test('비전 질문에 비전 지원 모델 선택', () => {\n            const result = selectOptimalModel('이미지 분석해줘', true);\n            expect(result.queryType).toBe('vision');\n            expect(result.supportsVision).toBe(true);\n        });\n    });\n\n    describe('checkModelCapability', () => {\n        test('Gemini 모델 도구 지원 확인', () => {\n            expect(checkModelCapability('gemini-3-flash-preview:cloud', 'toolCalling')).toBe(true);\n            expect(checkModelCapability('gemini-3-flash-preview:cloud', 'vision')).toBe(true);\n        });\n\n        test('Qwen Coder 모델 비전 미지원 확인', () => {\n            expect(checkModelCapability('qwen3-coder-next:cloud', 'vision')).toBe(false);\n        });\n    });\n});\n"],"version":3}