{"file":"/Volumes/MAC_APP/openmake_llm/tests/unit/__tests__/cluster.test.ts","mappings":";AAAA;;GAEG;;AAEH,sEAA0E;AAE1E,QAAQ,CAAC,gBAAgB,EAAE,GAAG,EAAE;IAC5B,IAAI,OAAuB,CAAC;IAE5B,UAAU,CAAC,GAAG,EAAE;QACZ,OAAO,GAAG,IAAI,wBAAc,CAAC;YACzB,IAAI,EAAE,cAAc;YACpB,KAAK,EAAE,EAAE;YACT,iBAAiB,EAAE,KAAK;SAC3B,CAAC,CAAC;IACP,CAAC,CAAC,CAAC;IAEH,SAAS,CAAC,GAAG,EAAE;QACX,OAAO,CAAC,IAAI,EAAE,CAAC;IACnB,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,aAAa,EAAE,GAAG,EAAE;QACzB,EAAE,CAAC,gDAAgD,EAAE,GAAG,EAAE;YACtD,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,WAAW,EAAE,CAAC;YACjC,MAAM,CAAC,OAAO,OAAO,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC7C,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,oCAAoC,EAAE,GAAG,EAAE;YAC1C,MAAM,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;QAC3C,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,UAAU,EAAE,GAAG,EAAE;QACtB,EAAE,CAAC,qCAAqC,EAAE,GAAG,EAAE;YAC3C,MAAM,KAAK,GAAG,OAAO,CAAC,QAAQ,EAAE,CAAC;YAEjC,MAAM,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YACjC,MAAM,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YAClC,MAAM,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YAClC,MAAM,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;QAC3C,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,gBAAgB,EAAE,GAAG,EAAE;QAC5B,EAAE,CAAC,yCAAyC,EAAE,GAAG,EAAE;YAC/C,MAAM,CAAC,OAAO,CAAC,cAAc,EAAE,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;QACjD,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,aAAa,EAAE,GAAG,EAAE;QACzB,EAAE,CAAC,iDAAiD,EAAE,GAAG,EAAE;YACvD,MAAM,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC,CAAC,aAAa,EAAE,CAAC;QAClD,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,4DAA4D,EAAE,GAAG,EAAE;YAClE,MAAM,CAAC,OAAO,CAAC,WAAW,CAAC,oBAAoB,CAAC,CAAC,CAAC,aAAa,EAAE,CAAC;QACtE,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAC;AACP,CAAC,CAAC,CAAC","names":[],"sources":["/Volumes/MAC_APP/openmake_llm/tests/unit/__tests__/cluster.test.ts"],"sourcesContent":["/**\n * Cluster Manager Tests\n */\n\nimport { ClusterManager } from '../../../backend/api/src/cluster/manager';\n\ndescribe('ClusterManager', () => {\n    let manager: ClusterManager;\n\n    beforeEach(() => {\n        manager = new ClusterManager({\n            name: 'test-cluster',\n            nodes: [],\n            heartbeatInterval: 10000\n        });\n    });\n\n    afterEach(() => {\n        manager.stop();\n    });\n\n    describe('constructor', () => {\n        it('should create a cluster manager with unique id', () => {\n            expect(manager.id).toBeDefined();\n            expect(typeof manager.id).toBe('string');\n        });\n\n        it('should have empty nodes by default', () => {\n            expect(manager.getNodes()).toEqual([]);\n        });\n    });\n\n    describe('getStats', () => {\n        it('should return correct initial stats', () => {\n            const stats = manager.getStats();\n\n            expect(stats.totalNodes).toBe(0);\n            expect(stats.onlineNodes).toBe(0);\n            expect(stats.totalModels).toBe(0);\n            expect(stats.uniqueModels).toEqual([]);\n        });\n    });\n\n    describe('getOnlineNodes', () => {\n        it('should return empty array when no nodes', () => {\n            expect(manager.getOnlineNodes()).toEqual([]);\n        });\n    });\n\n    describe('getBestNode', () => {\n        it('should return undefined when no nodes available', () => {\n            expect(manager.getBestNode()).toBeUndefined();\n        });\n\n        it('should return undefined when no nodes with specified model', () => {\n            expect(manager.getBestNode('non-existent-model')).toBeUndefined();\n        });\n    });\n});\n"],"version":3}